<launch>

  <arg name="racecar_version" default="racecar-v2" />

<!--启动电机，手柄-->
  <include file="$(find racecar)/launch/vesc2.launch"/>

<!--启动传感器-->
 
  <!-- laser -->
  <node pkg="urg_node" type="urg_node" name="laser_node" >
   <param name="ip_address" value="192.168.0.10"/>
  </node>

  <!-- imu -->
  <include file="$(find razor_imu_9dof)/launch/razor-pub.launch" />

  <!--zed/-->
  <include file="$(find zed_wrapper)/launch/zed2.launch" />

 
<!--室内定位系统-->
  <arg name="server" default="192.168.31.20"/>

  <node pkg="vrpn_client_ros" type="vrpn_client_node" name="vrpn_client_node" output="screen">
    <rosparam subst_value="true">
      server: $(arg server)
      port: 3883

      update_frequency: 100.0
      frame_id: world

      # Use the VRPN server's time, or the client's ROS time.
      use_server_time: true
      broadcast_tf: true

      # Must either specify refresh frequency > 0.0, or a list of trackers to create
      refresh_tracker_frequency: 1.0
      #trackers:
      #- FirstTracker
      #- SecondTracker
    </rosparam>
  </node>

<!--监测航模电池的电量-->
  <node pkg="racecar" type="battery_monitoring.py" name="battery_monitoring" output="screen"/>

<!--发布各个传感器之间的转换关系和racecar模型-->
  <param name="robot_description"
    textfile="$(find racecar)/urdf/x-car.urdf" />
  <node name="robot_state_publisher" pkg="robot_state_publisher"
    type="robot_state_publisher" />

<!--发布odom_combined到base_link
 <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
  <param name="output_frame" value="odom_ekf"/>
  <param name="base_footprint_frame" value="imu"/>
  <param name="freq" value="60.0"/>
  <param name="sensor_timeout" value="10.0"/>  
  <param name="odom_used" value="true"/>
  <param name="imu_used" value="true"/>
  <param name="vo_used" value="false"/>
  <remap from="odom" to="/zed/zed_node/odom" />
  <remap from="imu_data" to="/imu" /> 
 </node>
-->

</launch>
